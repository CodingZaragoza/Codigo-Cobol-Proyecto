// Generated by delombok at Mon Sep 30 19:32:36 UTC 2024
package gov.cms.fiss.pricers.ltch.resources;

import gov.cms.fiss.pricers.common.api.CbsaWageIndexData;
import gov.cms.fiss.pricers.ltch.core.tables.CbsaWageIndexEntry;
import gov.cms.fiss.pricers.ltch.core.tables.DataTables;
import gov.cms.fiss.pricers.ltch.resources.mapping.CbsaWageIndexDataMapper;
import java.time.LocalDate;
import java.util.*;
import java.util.Map.Entry;
import java.util.function.IntFunction;
import java.util.stream.Collectors;

public final class LtchExtractionUtil {
  public static final IntFunction<List<CbsaWageIndexData>> CBSA_EXTRACTOR = pricerYear -> {
    final Optional<Map<String, NavigableMap<LocalDate, CbsaWageIndexEntry>>> matchingData = Optional.ofNullable(DataTables.forYear(pricerYear).getCbsaTable());
    return matchingData.map(Map::entrySet).stream().flatMap(s -> s.stream().map(Entry::getValue)).map(Map::entrySet).flatMap(Collection::stream).map(Entry::getValue).map(CbsaWageIndexDataMapper.INSTANCE::mapToCbsaWageIndexData).collect(Collectors.toList());
  };

  @java.lang.SuppressWarnings("all")
  @lombok.Generated
  private LtchExtractionUtil() {
    throw new java.lang.UnsupportedOperationException("This is a utility class and cannot be instantiated");
  }
}
